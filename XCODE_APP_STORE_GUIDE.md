# ุฎุทูุงุช ุฑูุน ุชุทุจูู "5attah Travel" ุนูู ูุชุฌุฑ Apple App Store

---

## ุงููุชุทูุจุงุช ุงููุณุจูุฉ

| ูุชุทูุจ | ุงูุญุงูุฉ |
|--------|--------|
| ุญุณุงุจ Apple Developer (99$/ุณูุฉ) | โ ููุนูู |
| Team ID | โ `P2SHV4K77Q` |
| Bundle ID | โ `com.5attah.ios` |
| APNs Key (6588GZ732H) | โ `AuthKey_6588GZ732H.p8` |
| Sign in with Apple Key (42L5VRJDV5) | โ `AuthKey_42L5VRJDV5.p8` |
| ุฌูุงุฒ Mac (ูุทููุจ ูู Xcode) | โ ูุทููุจ - ูุง ูููู ุจูุงุก iOS ูู Windows |
| Xcode 15+ ูุซุจุช ูู Mac App Store | โ |
| Node.js 18+ ุนูู Mac | โ |
| Capacitor CLI ูุซุจุช | โ ููุฌูุฏ ูู package.json |
| iOS folder ูููุฃ | โ `ios/` ููุฌูุฏ ููุนุฏ |
| Info.plist ูุญุฏุซ | โ ุฌููุน ุงูุตูุงุญูุงุช ููุชูุจุฉ ุจุงูุนุฑุจู |
| App Icon (1024ร1024) | โ ุฌููุน ุงูุฃุญุฌุงู ููุฌูุฏุฉ |

---

## ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ ุงููุดุฑูุน ุนูู Mac

### 1.1 ููู ุงููุดุฑูุน ุฅูู Mac

```bash
# ุงุณุชูุณุฎ ุงููุดุฑูุน ูู GitHub
git clone https://github.com/YOUR_USERNAME/MashrokT-App.git
cd MashrokT-App

# ุซุจูุช ุงูููุชุจุงุช
npm install
# ุฃู
bun install
```

### 1.2 ุจูุงุก ูููุงุช ุงูููุจ

```bash
npm run build
```

ูุฐุง ููุชุฌ ูุฌูุฏ `dist/` ุงูุฐู ูุญุชูู ุนูู ุงูุชุทุจูู ุงููุฌููุน.

### 1.3 ูุฒุงููุฉ Capacitor ูุน iOS

```bash
npx cap sync ios
```

ูุฐุง ุงูุฃูุฑ:
- ููุณุฎ `dist/` ุฅูู `ios/App/App/public/`
- ูุซุจูุช Pods (ุงูููุชุจุงุช ุงูุฃุตููุฉ)
- ูุญุฏูุซ ุฅุนุฏุงุฏุงุช Capacitor

---

## ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุฃููููุฉ ุงูุชุทุจูู (App Icon)

> โ๏ธ **ููู**: ุฃููููุฉ ุงูุชุทุจูู ุบูุฑ ููุฌูุฏุฉ ุญุงููุงู ูู `Assets.xcassets/AppIcon.appiconset/`

### 2.1 ุชุฌููุฒ ุงูุฃููููุฉ

1. ุตูู ุฃููููุฉ **1024ร1024 ุจูุณู** ุจุตูุบุฉ PNG (ุจุฏูู ุดูุงููุฉ)
2. ุงุณุชุฎุฏู ุฃุฏุงุฉ ูุซู [appicon.co](https://www.appicon.co/) ูุชูููุฏ ุฌููุน ุงูุฃุญุฌุงู
3. ุฃู ุฃูุดุฆ ููู ูุงุญุฏ ุจุญุฌู 1024ร1024 ูุงุณูู `AppIcon.png`

### 2.2 ุฅุถุงูุฉ ุงูุฃููููุฉ

ุถุน ุงูููู ูู:
```
ios/App/App/Assets.xcassets/AppIcon.appiconset/AppIcon.png
```

ูุญุฏูุซ `Contents.json`:
```json
{
  "images": [
    {
      "filename": "AppIcon.png",
      "idiom": "universal",
      "platform": "ios",
      "size": "1024x1024"
    }
  ],
  "info": {
    "author": "xcode",
    "version": 1
  }
}
```

---

## ุงูุฎุทูุฉ 3: ูุชุญ ุงููุดุฑูุน ูู Xcode

```bash
npx cap open ios
```

ุฃู ุงูุชุญ ูุฏููุงู:
```
ios/App/App.xcodeproj
```

---

## ุงูุฎุทูุฉ 4: ุฅุนุฏุงุฏุงุช Xcode

### 4.1 Signing & Capabilities

1. ุงุฎุชุฑ **App** target ูู ุงูุดุฑูุท ุงูุฌุงูุจู
2. ูู ุชุจููุจ **Signing & Capabilities**:
   - ูุนูู **Automatically manage signing**
   - ุงุฎุชุฑ **Team** (ุญุณุงุจ Apple Developer)
   - ุชุฃูุฏ ุฃู **Bundle Identifier** = `com.5attah.ios`

### 4.2 ุฅุนุฏุงุฏุงุช ุงูุฅุตุฏุงุฑ

ูู ุชุจููุจ **General**:
- **Display Name**: `5attah Travel`
- **Version**: `1.0.0`
- **Build**: `1`
- **Minimum Deployments**: iOS 16.0 (ุฃู ุญุณุจ ุงูุญุงุฌุฉ)
- **Device Orientation**: Portrait + Landscape

### 4.3 ุฅุถุงูุฉ Associated Domains (ุงุฎุชูุงุฑู)

ุฅุฐุง ููุช ุชุฑูุฏ Deep Links:
1. ูู **Signing & Capabilities** โ **+ Capability** โ **Associated Domains**
2. ุฃุถู: `applinks:mashrok.shop`

---

## ุงูุฎุทูุฉ 5: ุงุฎุชุจุงุฑ ุงูุชุทุจูู

### 5.1 ุงุฎุชุจุงุฑ ุนูู ุงููุญุงูู (Simulator)

1. ุงุฎุชุฑ ุฌูุงุฒ ูู ุดุฑูุท ุงูุฃุฌูุฒุฉ (ูุซูุงู iPhone 15 Pro)
2. ุงุถุบุท **โ + R** ููุชุดุบูู
3. ุชุฃูุฏ ูู:
   - โ ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ ุชุนูู
   - โ ุงูุจุญุซ ุนู ุงูุฑุญูุงุช ูุนูู
   - โ ุงูุจุญุซ ุนู ุงูููุงุฏู ูุนูู
   - โ ุตูุญุฉ ุงูุฏูุน ุชุนูู
   - โ ุชุณุฌูู ุงูุฏุฎูู ูุนูู
   - โ ุงูุซูู ุงูุฏุงูู ูุธูุฑ ุจุดูู ุตุญูุญ
   - โ ุงููุบุฉ ุงูุนุฑุจูุฉ (RTL) ุชุนูู

### 5.2 ุงุฎุชุจุงุฑ ุนูู ุฌูุงุฒ ุญูููู

1. ูุตูู iPhone ุนุจุฑ USB
2. ุซู ุจุงูููุจููุชุฑ ูู ุฅุนุฏุงุฏุงุช iPhone
3. ุงุฎุชุฑ ุงูุฌูุงุฒ ูู ุดุฑูุท ุงูุฃุฌูุฒุฉ
4. ุงุถุบุท **โ + R**

---

## ุงูุฎุทูุฉ 6: ุชุฌููุฒ App Store Connect

### 6.1 ุฅูุดุงุก ุงูุชุทุจูู

1. ุงุฏุฎู ุนูู [appstoreconnect.apple.com](https://appstoreconnect.apple.com)
2. **My Apps** โ **+** โ **New App**
3. ุงููุฃ ุงูุจูุงูุงุช:

| ุงูุญูู | ุงููููุฉ |
|--------|--------|
| Platforms | iOS |
| Name | 5attah Travel |
| Primary Language | Arabic |
| Bundle ID | com.5attah.ios |
| SKU | 5attah-travel-001 |
| User Access | Full Access |

### 6.2 ูุนูููุงุช ุงูุชุทุจูู

ูู **App Information**:
- **Category**: Travel
- **Secondary Category**: Lifestyle
- **Content Rights**: ูุง ูุญุชูู ุนูู ูุญุชูู ุทุฑู ุซุงูุซ ูุฑุฎุต
- **Age Rating**: 4+ (ูุง ููุฌุฏ ูุญุชูู ุญุณุงุณ)

### 6.3 ุงูุชุณุนูุฑ

- **Pricing** โ **Free** (ุฃู ุญุฏุฏ ุงูุณุนุฑ ุฅุฐุง ูุฏููุน)

### 6.4 ููุทุงุช ุงูุดุงุดุฉ (Screenshots)

ูุทููุจ ููุทุงุช ุดุงุดุฉ ููู ุญุฌู:

| ุงูุฌูุงุฒ | ุงูุญุฌู |
|--------|--------|
| iPhone 6.7" (iPhone 15 Pro Max) | 1290 ร 2796 |
| iPhone 6.5" (iPhone 11 Pro Max) | 1242 ร 2688 |
| iPad Pro 12.9" (ุงุฎุชูุงุฑู) | 2048 ร 2732 |

**ูุตูุญุฉ**: ุงุณุชุฎุฏู ุงููุญุงูู ูู Xcode โ **โ + S** ูุฃุฎุฐ ููุทุฉ ุดุงุดุฉ

ุงูุญุฏ ุงูุฃุฏูู: **3 ููุทุงุช ููู ุญุฌู**ุ ุงูุญุฏ ุงูุฃูุตู: **10**

ููุทุงุช ููุชุฑุญุฉ:
1. ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
2. ุจุญุซ ุงูุฑุญูุงุช
3. ูุชุงุฆุฌ ุงูุจุญุซ
4. ุชูุงุตูู ุงูููุฏู
5. ุตูุญุฉ ุงูุฏูุน

### 6.5 ูุตู ุงูุชุทุจูู

```
5attah Travel | ููุตุฉ ุญุฌุฒ ุงูุณูุฑ ุงูุดุงููุฉ

ุงุจุญุซ ูุงุญุฌุฒ ุฑุญูุงุช ุงูุทูุฑุงูุ ุงูููุงุฏูุ ุงูุณูุงุฑุงุชุ ูุงูุฌููุงุช ุงูุณูุงุญูุฉ ูู ููุงู ูุงุญุฏ.

ุงููููุฒุงุช:
๐ซ ุจุญุซ ูุญุฌุฒ ุฑุญูุงุช ุงูุทูุฑุงู
๐จ ุญุฌุฒ ุงูููุงุฏู ูุน ุฃูุถู ุงูุฃุณุนุงุฑ
๐ ุชุฃุฌูุฑ ุงูุณูุงุฑุงุช ูุงูุชูููุงุช
๐ฏ ุฌููุงุช ูุฃูุดุทุฉ ุณูุงุญูุฉ
๐ณ ุฏูุน ุขูู ุนุจุฑ ุจูุงุจุฉ Moyasar
๐ ูุงุฌูุฉ ุฃูููุฉ ุจุงูุซูู ุงูุฏุงูู
๐ ุญุณุงุจุงุช ุขููุฉ ูุน Supabase

ุฎุชู - ุฑูููู ูู ูู ุฑุญูุฉ!
```

### 6.6 ูููุงุช ุงูุจุญุซ (Keywords)

```
ุณูุฑ,ุญุฌุฒ,ุทูุฑุงู,ููุงุฏู,ุณูุงุญุฉ,ุฑุญูุงุช,5attah,travel,ุชุฐุงูุฑ,ููุฏู
```

### 6.7 ูุนูููุงุช ุงููุฑุงุฌุนุฉ (App Review Information)

- **Contact**: ุจูุงูุงุช ุงูุชูุงุตู
- **Demo Account**: ูุฏูู ุญุณุงุจ ุชุฌุฑูุจู ุฅุฐุง ูุญุชุงุฌ ุชุณุฌูู ุฏุฎูู
- **Notes**: ุงุดุฑุญ ุฃู ุงูุชุทุจูู ูุณุชุฎุฏู Capacitor/WebView

---

## ุงูุฎุทูุฉ 7: ุจูุงุก ูุฑูุน ุงูุชุทุจูู (Archive & Upload)

### 7.1 ุชุญุถูุฑ ุงูุจูุงุก

```bash
# ุชุฃูุฏ ูู ุจูุงุก ุงูููุจ ุฃููุงู
npm run build

# ูุฒุงููุฉ ูุน iOS
npx cap sync ios
```

### 7.2 Archive ูู Xcode

1. ูู Xcodeุ ุงุฎุชุฑ **Any iOS Device (arm64)** ููุฏู
2. **Product** โ **Archive** (ุฃู **โ + Shift + B** ุซู **Product** โ **Archive**)
3. ุงูุชุธุฑ ุญุชู ููุชูู ุงูุจูุงุก

### 7.3 ุฑูุน ุฅูู App Store Connect

1. ุนูุฏ ุงูุชูุงุก Archive ููุชุญ **Organizer**
2. ุงุฎุชุฑ ุงูุฃุฑุดูู โ **Distribute App**
3. ุงุฎุชุฑ **App Store Connect** โ **Upload**
4. ุชุฃูุฏ ูู ุงูุฎูุงุฑุงุช:
   - โ Upload your app's symbols
   - โ Manage Version and Build Number
5. ุงุถุบุท **Upload**

### 7.4 ุจุฏูู: ุฑูุน ุนุจุฑ Command Line

```bash
# ุชุตุฏูุฑ IPA
xcodebuild -exportArchive \
  -archivePath build/App.xcarchive \
  -exportPath build/export \
  -exportOptionsPlist ExportOptions.plist

# ุฑูุน ุนุจุฑ altool
xcrun altool --upload-app \
  -f build/export/App.ipa \
  -t ios \
  -u "your@apple-id.com" \
  -p "app-specific-password"
```

---

## ุงูุฎุทูุฉ 8: ุฅุฑุณุงู ูููุฑุงุฌุนุฉ

1. ูู App Store Connect โ **App** โ ุญุฏุฏ ุงูุฅุตุฏุงุฑ
2. ูู **Build** โ ุงุฎุชุฑ ุงูุจูุงุก ุงููุฑููุน
3. ุงููุฃ ุฌููุน ุงูุญููู ุงููุทููุจุฉ:
   - โ Screenshots
   - โ Description
   - โ Keywords
   - โ Support URL
   - โ Privacy Policy URL (ูุทููุจ)
4. ุงุถุบุท **Submit for Review**

---

## ุงูุฎุทูุฉ 9: ููุงุญุธุงุช ูููุฉ ูููุฑุงุฌุนุฉ

### โ๏ธ ุฃุณุจุงุจ ุดุงุฆุนุฉ ููุฑูุถ (ูููู ุชุชุฌูุจูุง)

| ุงูุณุจุจ | ุงูุญู |
|--------|--------|
| ูุง ููุฌุฏ Privacy Policy | ุฃุถู ุฑุงุจุท ุณูุงุณุฉ ุงูุฎุตูุตูุฉ (ุตูุญุฉ `/privacy` ููุฌูุฏุฉ) |
| ุงูุชุทุจูู WebView ููุท ุจุฏูู ูููุฉ ุฃุตููุฉ | ุฃุถู Push Notifications ุฃู ููุฒุฉ ุฃุตููุฉ ูุงุญุฏุฉ |
| ููุทุงุช ุดุงุดุฉ ุบูุฑ ูุทุงุจูุฉ | ุงุณุชุฎุฏู ููุทุงุช ุญููููุฉ ูู ุงูุชุทุจูู |
| ุญุณุงุจ ุชุฌุฑูุจู ุบูุฑ ููุฏู | ูุฏูู email + password ูููุฑุงุฌุน |
| ุงูุฏูุน ูุง ูุนูู ูู ุจูุฆุฉ ุงูุงุฎุชุจุงุฑ | ุงุณุชุฎุฏู Moyasar test mode ูุน ุจุทุงูุฉ ุงุฎุชุจุงุฑูุฉ |
| Crashes ุนูุฏ ุงููุชุญ | ุงุฎุชุจุฑ ุฌูุฏุงู ุนูู ุฌูุงุฒ ุญูููู ูุจู ุงูุฑูุน |

### ๐ ุณูุงุณุฉ ุงูุฎุตูุตูุฉ (Privacy Policy)

ูุฌุจ ุฃู ุชุดูู:
- ูุง ุงูุจูุงูุงุช ุงูุชู ุชุฌูุนูุง (email, location)
- ููู ุชุณุชุฎุฏู ุงูุจูุงูุงุช
- Supabase ููุฒูุฏ ููุจูุงูุงุช
- Moyasar ููุนุงูุฌ ูููุฏููุนุงุช
- ุญููู ุงููุณุชุฎุฏู ูู ุญุฐู ุงูุจูุงูุงุช

### ๐ฑ App Privacy (Data Practices)

ูู App Store Connect โ **App Privacy**:

| ููุน ุงูุจูุงูุงุช | ูุณุชุฎุฏู |
|--------|--------|
| Contact Info (Email) | โ - ุชุณุฌูู ุงูุฏุฎูู |
| Location (Coarse) | โ - ุนุฑุถ ุงููุฌูุงุช ุงููุฑูุจุฉ |
| Identifiers (User ID) | โ - Supabase Auth |
| Usage Data | โ - Analytics |
| Financial Info | โ - ุงููุฏููุนุงุช ุนุจุฑ Moyasar |

---

## ุงูุฎุทูุฉ 10: ุจุนุฏ ุงููุดุฑ

### 10.1 Supabase Edge Functions

ุชุฃูุฏ ูู ูุดุฑ Edge Functions ุงููุทููุจุฉ:
```bash
supabase functions deploy amadeus
supabase functions deploy moyasar-proxy
supabase functions deploy billing-checkout
supabase functions deploy billing-invoices
supabase functions deploy billing-subscription
supabase functions deploy health
supabase functions deploy public-config
supabase functions deploy run-cleanup
```

### 10.2 Environment Variables

ุชุฃูุฏ ุฃู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุญุฏูุซุฉ ูู Supabase Dashboard:
- `AMADEUS_CLIENT_ID`
- `AMADEUS_CLIENT_SECRET`
- `MOYASAR_SECRET_KEY` (ูููุฑุฃ ูู api_keys table)

### 10.3 ุชูููุฐ SQL Migrations

ูููุฐ ุงูุฃูุงูุฑ ุงูุชุงููุฉ ูู **Supabase Dashboard โ SQL Editor**:

1. `supabase/migrations/20260226120000_managed_pages.sql` โ ุฌุฏูู ุงูุตูุญุงุช ุงูููุฏุงุฑุฉ

### 10.4 Domain Setup

ุชุฃูุฏ ุฃู `capacitor.config.ts` ูุดูุฑ ุฅูู ุงูุฏูููู ุงูุตุญูุญ:
- `allowNavigation` ูุดูู ุฌููุน ุงูุฏููููุงุช ุงููุณุชุฎุฏูุฉ
- `server.url` ูุนุทูู ูู ุงูุฅูุชุงุฌ (production)

---

## ููุฎุต ุงูุฃูุงูุฑ ุงูุณุฑูุนุฉ

```bash
# 1. ุจูุงุก ุงูููุจ
npm run build

# 2. ูุฒุงููุฉ iOS
npx cap sync ios

# 3. ูุชุญ Xcode
npx cap open ios

# 4. (ูู Xcode) Archive โ Distribute โ Upload

# 5. (ูู App Store Connect) Submit for Review
```

---

## ูุฏุฉ ุงููุฑุงุฌุนุฉ ุงููุชููุนุฉ

- ุฃูู ูุฑุงุฌุนุฉ: **24-72 ุณุงุนุฉ**
- ุงูุชุญุฏูุซุงุช ุงููุงุญูุฉ: **12-24 ุณุงุนุฉ**
- ูู ุญุงูุฉ ุงูุฑูุถ: ุงูุฑุฃ ุงูููุงุญุธุงุช ุจุฏูุฉุ ุนุฏููุ ูุฃุนุฏ ุงูุฅุฑุณุงู

---

> **ููุงุญุธุฉ**: ูุฐุง ุงูุฏููู ูุฎุตุต ููุดุฑูุน MashrokT-App (ุฎุชู - 5ATTAH) ุจุงุณุชุฎุฏุงู Capacitor + Vite + React. ูุฌุจ ุงูุชูููุฐ ุนูู ุฌูุงุฒ Mac ูุน Xcode.
